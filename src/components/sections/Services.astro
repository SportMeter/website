---
import { Image } from "astro:assets";

interface Props {
  sectionTitle:string;
	introSection: string;
	services: {
		title: string;
		description: string;
		icon: string;
	}[];
}

const { sectionTitle, introSection, services } = Astro.props;

const images = import.meta.glob<{ default: ImageMetadata }>(
	"/src/assets/pages/**/*.{webp,jpeg,jpg,png,gif,svg}",
);
console.log(sectionTitle,introSection)
---

<div class="items-center text-sm font-medium justify-center flex pt-16">
  <div class="bg-gray-100 rounded-2xl px-4 py-2">
    <h2 class="text-lg leading-none font-semibold my-1">{sectionTitle}</h2>
  </div>
</div>
<div class="pt-8" id="services">
	<p
		class="text-[2.13rem] leading-9 font-semibold lg:max-w-[64%] mb-3"
		set:html={introSection}
	/>
	<div class="mt-16">
		<div
			class="auto-cols-fr grid-cols-1 md:grid-cols-3 grid-rows-[auto] grid gap-10"
		>
			{
				services.map(({ title, description, icon }) => (
					<div class="items-stretch flex-col flex h-full max-w-[90%] m-auto col-span-1 row-span-1">
						<Image
							src={images[icon]()}
							alt={`Service ${title}`}
							class="align-middle inline-block w-12 h-12 max-w-full"
						/>
						<div class="mt-16 text-[1.38rem] leading-7 font-semibold">
							<h3 class="mb-3">{title}</h3>
						</div>
						<div class="mt-3.5 text-lg">
							<p class="mb-3">{description}</p>
						</div>
					</div>
				))
			}
		</div>
	</div>
</div>
